

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Welcome to the Apigee Management API command-line interface documentation! &mdash; apigee-cli 0.x.x documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Installation" href="installation.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="#" class="icon icon-home"> apigee-cli
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="auth.html">auth</a></li>
</ul>
<p class="caption"><span class="caption-text">Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="license.html">Apache License</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html#contact">Contact</a></li>
<li class="toctree-l1"><a class="reference internal" href="disclaimer.html">Disclaimer</a></li>
<li class="toctree-l1"><a class="reference internal" href="help.html">Need Help</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">apigee-cli</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#">Docs</a> &raquo;</li>
        
      <li>Welcome to the Apigee Management API command-line interface documentation!</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="welcome-to-the-apigee-management-api-command-line-interface-documentation">
<h1>Welcome to the Apigee Management API command-line interface documentation!<a class="headerlink" href="#welcome-to-the-apigee-management-api-command-line-interface-documentation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="apigee-cli">
<h2>apigee-cli<a class="headerlink" href="#apigee-cli" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://opensource.org/licenses/Apache-2.0"><img alt="License" src="https://img.shields.io/badge/License-Apache%202.0-blue.svg" /></a></p>
<p>Welcome to the (Unofficial) Apigee Management API command-line interface!</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Usage: apigee [OPTIONS] COMMAND [ARGS]...

  Welcome to the (Unofficial) Apigee Management API command-line interface!

  Docs:    https://mdelotavo.github.io/apigee-cli/
  PyPI:    https://pypi.org/project/apigeecli/
  GitHub:  https://github.com/mdelotavo/apigee-cli

Options:
  -V, --version  Show the version and exit.
  -h, --help     Show this message and exit.

Commands:
  apiproducts    API products enable you to bundle and distribute your APIs...
  apis           The proxy APIs let you perform operations on API proxies,...
  apps           Management APIs available for working with developer apps.
  auth           Custom authorization commands.
  backups        Download configuration files from Apigee that can later be...
  caches         A lightweight persistence store that can be used by...
  configure      Configure Apigee Edge credentials.
  deployments    API proxies that are actively deployed in environments on...
  developers     Developers implement client/consumer apps and must be...
  keystores      A list of URIs used to create, modify, and delete
                 keystores...

  keyvaluemaps   Key/value maps at the environment scope can be accessed by...
  maskconfigs    Specify data that will be filtered out of trace sessions.
  permissions    Permissions for roles in an organization on Apigee Edge.
  plugins        [Experimental] Simple plugins manager for distributing...
  references     References in an organization and environment.
  sharedflows    You can use the following APIs to manage shared flows and...
  targetservers  TargetServers are used to decouple TargetEndpoint...
  userroles      Roles for users in an organization on Apigee Edge.
  virtualhosts   A named network configuration (including URL) for an...
</pre></div>
</div>
<p>This is not an officially supported Google product, and is not affiliated with Apigee or Google in any way.</p>
<p>Please note that this CLI is still highly experimental and may change significantly
based on client needs.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#installation" id="id1">Installation</a></p></li>
<li><p><a class="reference internal" href="#why-does-this-exist" id="id2">Why does this exist?</a></p>
<ul>
<li><p><a class="reference internal" href="#third-party-plugins" id="id3">Third-party plugins</a></p></li>
<li><p><a class="reference internal" href="#how-we-and-our-clients-use-it" id="id4">How we and our clients use it</a></p></li>
<li><p><a class="reference internal" href="#when-to-use-this-over-the-official-tool" id="id5">When to use this over the official tool</a></p></li>
<li><p><a class="reference internal" href="#specialized-use-cases" id="id6">Specialized use cases</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#getting-started" id="id7">Getting Started</a></p>
<ul>
<li><p><a class="reference internal" href="#using-saml-authentication" id="id8">Using SAML authentication</a></p></li>
<li><p><a class="reference internal" href="#deploy-api-proxy-bundles" id="id9">Deploy API Proxy bundles</a></p></li>
<li><p><a class="reference internal" href="#cleaning-up-undeployed-revisions" id="id10">Cleaning up undeployed revisions</a></p></li>
<li><p><a class="reference internal" href="#push-commands" id="id11">Push commands</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#managing-plugins" id="id12">Managing plugins</a></p>
<ul>
<li><p><a class="reference internal" href="#configuring" id="id13">Configuring</a></p></li>
<li><p><a class="reference internal" href="#updating" id="id14">Updating</a></p></li>
<li><p><a class="reference internal" href="#pruning" id="id15">Pruning</a></p></li>
<li><p><a class="reference internal" href="#showing" id="id16">Showing</a></p></li>
<li><p><a class="reference internal" href="#how-it-works" id="id17">How it works</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#more-commands" id="id18">More Commands</a></p></li>
<li><p><a class="reference internal" href="#getting-help" id="id19">Getting Help</a></p></li>
<li><p><a class="reference internal" href="#next-steps" id="id20">Next Steps</a></p></li>
<li><p><a class="reference internal" href="#disclaimer" id="id21">Disclaimer</a></p></li>
</ul>
</div>
<div class="section" id="installation">
<h3><a class="toc-backref" href="#id1">Installation</a><a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h3>
<p>The easiest way to install apigee-cli is to use <a class="reference external" href="http://www.pip-installer.org/en/latest/">pip</a> in a <code class="docutils literal notranslate"><span class="pre">virtualenv</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install apigeecli
</pre></div>
</div>
<p>or, if you are not installing in a <code class="docutils literal notranslate"><span class="pre">virtualenv</span></code>, to install globally:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ sudo pip install apigeecli
</pre></div>
</div>
<p>or for your user:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install --user apigeecli
</pre></div>
</div>
<p>If you have the apigee-cli installed and want to upgrade to the latest version
you can run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install --upgrade apigeecli
</pre></div>
</div>
</div>
<div class="section" id="why-does-this-exist">
<h3><a class="toc-backref" href="#id2">Why does this exist?</a><a class="headerlink" href="#why-does-this-exist" title="Permalink to this headline">¶</a></h3>
<p>Apigee CLI is a user-friendly command-line interface to the Apigee Edge Management API providing
automation capabilities with multi-factor authentication (MFA) and single sign-on (SSO)/SAML support.
It is intended for general administrative use from your shell, as a package for developers,
and to support automation for common development tasks, such as test automation
or Continuous Integration/Continuous Deployment (CI/CD).</p>
<div class="section" id="third-party-plugins">
<h4><a class="toc-backref" href="#id3">Third-party plugins</a><a class="headerlink" href="#third-party-plugins" title="Permalink to this headline">¶</a></h4>
<p>The Apigee CLI also supports the ability to load third-party plugins (to be documented)
as additional commands which enables us (and third-party developers) to distribute their own commands
for very specific use cases, including those do not require any interaction with the Apigee Management API,
while being able to leverage the command-line interface without any knowledge of the CLI internals.</p>
</div>
<div class="section" id="how-we-and-our-clients-use-it">
<h4><a class="toc-backref" href="#id4">How we and our clients use it</a><a class="headerlink" href="#how-we-and-our-clients-use-it" title="Permalink to this headline">¶</a></h4>
<p>We built and use the Apigee CLI to implement and distribute features that allow our clients
to manage CI/CD, perform self-service operations and promote our DevOps workflows
in ways that are not supported by official tools. These include but are not limited to:</p>
<ul class="simple">
<li><p>Enabling clients to easily use personal accounts (MFA) or authenticate with their identity provider (SSO/SAML)</p></li>
<li><p>Using CI/CD when SSO/SAML and MFA are enabled for an Apigee Edge organization</p></li>
<li><p>Provisioning API proxy deployments generated from best practice templates</p></li>
<li><p>Using resource permissions template files to generate team user roles</p></li>
<li><p>Distributing and developing specialized plugins as commands</p></li>
<li><p>Encrypting KVMs at rest and decrypting during CI/CD</p></li>
<li><p>Managing snapshots of Apigee Edge</p></li>
</ul>
<p>We also constantly add new features and make improvements to the CLI to make it more user-friendly
based on client needs and feedback.</p>
</div>
<div class="section" id="when-to-use-this-over-the-official-tool">
<h4><a class="toc-backref" href="#id5">When to use this over the official tool</a><a class="headerlink" href="#when-to-use-this-over-the-official-tool" title="Permalink to this headline">¶</a></h4>
<p>Apigee Corporation has their own CLI for the Apigee Management API named <a class="reference external" href="https://github.com/apigee/apigeetool-node">apigeetool-node</a>.</p>
<p>It is fully-featured, well-supported and can be used as an SDK to orchestrate tasks
and may be more than suitable for your needs.</p>
<p>If however, you have certain use cases that cannot be satisfied by this tool,
then the Apigee CLI may have what you need.</p>
</div>
<div class="section" id="specialized-use-cases">
<h4><a class="toc-backref" href="#id6">Specialized use cases</a><a class="headerlink" href="#specialized-use-cases" title="Permalink to this headline">¶</a></h4>
<p>Some of these use cases require plugins. These will be documented and made available at a later date.</p>
</div>
</div>
<div class="section" id="getting-started">
<h3><a class="toc-backref" href="#id7">Getting Started</a><a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h3>
<p>Before using apigee-cli, you need to tell it about your Apigee Edge credentials. You
can do this in three ways:</p>
<ul class="simple">
<li><p>Environment variables</p></li>
<li><p>Config file</p></li>
<li><p>Command-line arguments</p></li>
</ul>
<p>The quickest way to get started is to run the <code class="docutils literal notranslate"><span class="pre">apigee</span> <span class="pre">configure</span></code> command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ apigee configure
Apigee username (email) []: MY_EMAIL
Apigee password []: MY_PASS
Apigee MFA key (optional) []: MY_KEY
Identity zone name (to support SAML authentication) []:
Use OAuth, no MFA (optional)? [y/N]: n
Default Apigee organization (recommended) []: MY_ORG
Default team/resource prefix (optional) []:
</pre></div>
</div>
<p>You may not need to input anything for some of these prompts. In these cases, simply press <code class="docutils literal notranslate"><span class="pre">enter</span></code> to skip.</p>
<p>You can also do the same thing using command-line arguments:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ apigee configure -P default -u MY_EMAIL -p MY_PASS -o MY_ORG -mfa &#39;&#39; -z &#39;&#39; --no-token --prefix &#39;&#39;
</pre></div>
</div>
<p>You may need to specify empty strings as above. Also note the <code class="docutils literal notranslate"><span class="pre">--prefix</span></code> option. This option
will filter the output of some commands, such as the <code class="docutils literal notranslate"><span class="pre">list</span></code> type commands, by the prefix which may be useful to some people,
but if you want to avoid confusion just keep this value empty. You can also explicitly specify the <code class="docutils literal notranslate"><span class="pre">--prefix</span></code>
for those commands if you need it on the fly.</p>
<p>To use environment variables, do the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ export APIGEE_USERNAME=MY_EMAIL
$ export APIGEE_PASSWORD=MY_PASS
$ export APIGEE_MFA_SECRET=MY_KEY
$ export APIGEE_ZONENAME=MY_ZONENAME
$ export APIGEE_IS_TOKEN=BOOL
$ export APIGEE_ORG=MY_ORG
$ export APIGEE_CLI_PREFIX=MY_PREFIX
</pre></div>
</div>
<p>To use the configuration file, create an INI formatted file like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">default</span><span class="p">]</span>
<span class="n">username</span> <span class="o">=</span> <span class="n">MY_EMAIL</span>
<span class="n">org</span> <span class="o">=</span> <span class="n">MY_ORG</span>
<span class="n">mfa_secret</span> <span class="o">=</span> <span class="n">MY_KEY</span>
<span class="n">prefix</span> <span class="o">=</span> <span class="n">MY_PREFIX</span>
<span class="n">password</span> <span class="o">=</span> <span class="n">MY_PASS</span>

<span class="p">[</span><span class="n">produser</span><span class="p">]</span>
<span class="n">org</span> <span class="o">=</span> <span class="n">MY_ORG</span>
<span class="n">username</span> <span class="o">=</span> <span class="n">MY_EMAIL</span>
<span class="n">password</span> <span class="o">=</span> <span class="n">MY_PASS</span>
<span class="n">mfa_secret</span> <span class="o">=</span> <span class="n">MY_KEY</span>
</pre></div>
</div>
<p>and place it in <code class="docutils literal notranslate"><span class="pre">~/.apigee/credentials</span></code>.</p>
<p>As you can see, you can have multiple <code class="docutils literal notranslate"><span class="pre">profiles</span></code> defined in the configuration file. You can then specify which
profile to use by using the <code class="docutils literal notranslate"><span class="pre">-P/--profile</span></code> option. If no profile is specified
the <code class="docutils literal notranslate"><span class="pre">default</span></code> profile is used.</p>
<div class="section" id="using-saml-authentication">
<h4><a class="toc-backref" href="#id8">Using SAML authentication</a><a class="headerlink" href="#using-saml-authentication" title="Permalink to this headline">¶</a></h4>
<p>If you specified an <code class="docutils literal notranslate"><span class="pre">Identity</span> <span class="pre">zone</span> <span class="pre">name</span> <span class="pre">(to</span> <span class="pre">support</span> <span class="pre">SAML</span> <span class="pre">authentication)</span></code> during setup,
the CLI will automatically use SAML authentication.
If you are not currently signed in by your identity provider, you will be prompted to sign in:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ apigee apis list
SSO authorization page has automatically been opened in your default browser.
Follow the instructions in the browser to complete this authorization request.

If your browser did not automatically open, go to the following URL and sign in:

https://{zoneName}.login.apigee.com/passcode

then copy the Temporary Authentication Code.

Please enter the Temporary Authentication Code:
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">zoneName</span></code> will be the <code class="docutils literal notranslate"><span class="pre">Identity</span> <span class="pre">zone</span> <span class="pre">name</span></code> you previously configured.</p>
<p>Refer to the official Apigee documentation to learn more about how to <a class="reference external" href="https://docs.apigee.com/api-platform/system-administration/using-saml">Access the Edge API with SAML</a>.</p>
</div>
<div class="section" id="deploy-api-proxy-bundles">
<h4><a class="toc-backref" href="#id9">Deploy API Proxy bundles</a><a class="headerlink" href="#deploy-api-proxy-bundles" title="Permalink to this headline">¶</a></h4>
<p>You can also deploy API proxy bundles to Apigee.</p>
<p>This command is an enhanced version of the Apigee API Proxy Deploy Tool.</p>
<p>It supports a bunch of useful features such as MFA, SAML, seamless deployments and automatic handling of <code class="docutils literal notranslate"><span class="pre">missing</span></code> and broken deployments.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ apigee apis deploy -n API_NAME -e ENVIRONMENT -d DIRECTORY_WITH_APIPROXY
</pre></div>
</div>
<p>Some notable options:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Deployment</span> <span class="n">options</span><span class="p">:</span> <span class="p">[</span><span class="n">mutually_exclusive</span><span class="p">]</span>
                                <span class="n">The</span> <span class="n">deployment</span> <span class="n">options</span>
  <span class="o">-</span><span class="n">i</span><span class="p">,</span> <span class="o">--</span><span class="n">import</span><span class="o">-</span><span class="n">only</span> <span class="o">/</span> <span class="o">-</span><span class="n">I</span><span class="p">,</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">import</span><span class="o">-</span><span class="n">only</span>
                                <span class="kn">import</span> <span class="nn">only</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">deploy</span>
  <span class="o">-</span><span class="n">s</span><span class="p">,</span> <span class="o">--</span><span class="n">seamless</span><span class="o">-</span><span class="n">deploy</span> <span class="o">/</span> <span class="o">-</span><span class="n">S</span><span class="p">,</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">seamless</span><span class="o">-</span><span class="n">deploy</span>
                                <span class="n">seamless</span> <span class="n">deploy</span> <span class="n">the</span> <span class="n">bundle</span>
</pre></div>
</div>
</div>
<div class="section" id="cleaning-up-undeployed-revisions">
<h4><a class="toc-backref" href="#id10">Cleaning up undeployed revisions</a><a class="headerlink" href="#cleaning-up-undeployed-revisions" title="Permalink to this headline">¶</a></h4>
<p>If deploying via CI/CD you may end up with a lot of undeployed revisions. In this case, you can
make use of the <code class="docutils literal notranslate"><span class="pre">clean</span></code> command to delete all undeployed revisions.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ apigee apis clean -n API_NAME
</pre></div>
</div>
<p>You can also specify to keep the last few revisions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ apigee apis clean -n API_NAME --save-last INTEGER
</pre></div>
</div>
<p>To only show which revisions will be deleted but not actually delete anything, use the following option:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">--</span><span class="n">dry</span><span class="o">-</span><span class="n">run</span> <span class="o">/</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">dry</span><span class="o">-</span><span class="n">run</span>  <span class="n">show</span> <span class="n">revisions</span> <span class="n">to</span> <span class="n">be</span> <span class="n">deleted</span> <span class="n">but</span> <span class="n">do</span> <span class="ow">not</span> <span class="n">delete</span>
</pre></div>
</div>
</div>
<div class="section" id="push-commands">
<h4><a class="toc-backref" href="#id11">Push commands</a><a class="headerlink" href="#push-commands" title="Permalink to this headline">¶</a></h4>
<p>Some commands support the <code class="docutils literal notranslate"><span class="pre">push</span></code> subcommand which combines API calls to manage the creation, update and sometimes deletion of resources using a single command.</p>
<p>Push commands read JSON from a file and can be invoked like so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ apigee keyvaluemaps push -e ENVIRONMENT -f FILENAME
</pre></div>
</div>
<p>This will create the KVM if it does not exist, and update it if it does.</p>
</div>
</div>
<div class="section" id="managing-plugins">
<h3><a class="toc-backref" href="#id12">Managing plugins</a><a class="headerlink" href="#managing-plugins" title="Permalink to this headline">¶</a></h3>
<p>The simple plugins manager uses Git to install commands from remote sources, thus you will need to have Git installed for installation to work.
However, it is possible to install plugins manually by storing plugins in the correct location (to be documented).</p>
<p>Currently, only the commands below are supported. More commands will be added to improve automation and user experience.</p>
<p>The steps below show how to install commands from a public plugins repository located here:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/mdelotavo/apigee-cli-plugins">https://github.com/mdelotavo/apigee-cli-plugins</a></p></li>
</ul>
<div class="section" id="configuring">
<h4><a class="toc-backref" href="#id13">Configuring</a><a class="headerlink" href="#configuring" title="Permalink to this headline">¶</a></h4>
<p>To configure remote sources for installing plugins, run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">apigee</span> <span class="n">plugins</span> <span class="n">configure</span> <span class="o">-</span><span class="n">a</span>
</pre></div>
</div>
<p>This will open a text editor so that you can specify the remote sources.</p>
<p>If you don’t want changes to be automatically applied, then you can drop the <code class="docutils literal notranslate"><span class="pre">-a</span></code> option.</p>
<p>When the editor opens, copy and paste the following example configuration:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">sources</span><span class="p">]</span>
<span class="n">public</span> <span class="o">=</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">mdelotavo</span><span class="o">/</span><span class="n">apigee</span><span class="o">-</span><span class="n">cli</span><span class="o">-</span><span class="n">plugins</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
<p>After saving the changes, the CLI will attempt to install the plugins from the specified Git URI.
Here we use the HTTPS URI but you can also use SSH if you have configured it.</p>
<p>You can also specify multiple sources, as long as the key (<code class="docutils literal notranslate"><span class="pre">public</span></code> in this case) is unique.
The key will be the name of the repository on your local machine under <code class="docutils literal notranslate"><span class="pre">~/.apigee/plugins/</span></code>.</p>
<p>If installation is successful, you should now see additional commands when you run <code class="docutils literal notranslate"><span class="pre">apigee</span> <span class="pre">-h</span></code></p>
</div>
<div class="section" id="updating">
<h4><a class="toc-backref" href="#id14">Updating</a><a class="headerlink" href="#updating" title="Permalink to this headline">¶</a></h4>
<p>If you specified the <code class="docutils literal notranslate"><span class="pre">-a</span></code> option when running <code class="docutils literal notranslate"><span class="pre">apigee</span> <span class="pre">plugins</span> <span class="pre">configure</span></code> then install will occur automatically.
Otherwise you can run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">apigee</span> <span class="n">plugins</span> <span class="n">update</span>
</pre></div>
</div>
<p>This will install and update plugins.</p>
</div>
<div class="section" id="pruning">
<h4><a class="toc-backref" href="#id15">Pruning</a><a class="headerlink" href="#pruning" title="Permalink to this headline">¶</a></h4>
<p>If you specified the <code class="docutils literal notranslate"><span class="pre">-a</span></code> option when running <code class="docutils literal notranslate"><span class="pre">apigee</span> <span class="pre">plugins</span> <span class="pre">configure</span></code> then the removal of plugins will occur automatically.
Otherwise you can run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">apigee</span> <span class="n">plugins</span> <span class="n">prune</span>
</pre></div>
</div>
</div>
<div class="section" id="showing">
<h4><a class="toc-backref" href="#id16">Showing</a><a class="headerlink" href="#showing" title="Permalink to this headline">¶</a></h4>
<p>To show the plugins you have configured, run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">apigee</span> <span class="n">plugins</span> <span class="n">show</span>
</pre></div>
</div>
<p>You can also run the following commands if you specify the plugin name:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">apigee</span> <span class="n">plugins</span> <span class="n">show</span> <span class="o">-</span><span class="n">n</span> <span class="n">PLUGIN_NAME</span> <span class="o">--</span><span class="n">show</span><span class="o">-</span><span class="n">commit</span><span class="o">-</span><span class="n">only</span>
<span class="n">apigee</span> <span class="n">plugins</span> <span class="n">show</span> <span class="o">-</span><span class="n">n</span> <span class="n">PLUGIN_NAME</span> <span class="o">--</span><span class="n">show</span><span class="o">-</span><span class="n">dependencies</span><span class="o">-</span><span class="n">only</span>
</pre></div>
</div>
<p>Some plugins will not load if dependencies are not installed. You can run the following command to install them.
In order for this to work, the plugin needs to have the <code class="docutils literal notranslate"><span class="pre">Requires</span></code> key in the JSON body of the <code class="docutils literal notranslate"><span class="pre">apigee-cli.info</span></code> file.
More details coming soon.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>pip3 install $(apigee plugins show -n PLUGIN_NAME --show-dependencies-only)
</pre></div>
</div>
</div>
<div class="section" id="how-it-works">
<h4><a class="toc-backref" href="#id17">How it works</a><a class="headerlink" href="#how-it-works" title="Permalink to this headline">¶</a></h4>
<ol class="arabic simple">
<li><p>The plugins manager <code class="docutils literal notranslate"><span class="pre">apigee/plugins/commands.py</span></code> will clone or pull remote repositories into <code class="docutils literal notranslate"><span class="pre">~/.apigee/plugins/</span></code>.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">_load_all_modules_in_directory()</span></code> function in <code class="docutils literal notranslate"><span class="pre">apigee/__main__.py</span></code> will attempt to import the functions as specified in the <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> file for each plugin repository found in <code class="docutils literal notranslate"><span class="pre">~/.apigee/plugins/</span></code>.</p></li>
<li><p>If the functions found are of instance type <code class="docutils literal notranslate"><span class="pre">(click.core.Command,</span> <span class="pre">click.core.Group)</span></code> then the CLI will add it to the list of available commands.</p></li>
</ol>
<p>Further details are to be documented, including how to write plugins and leverage some useful CLI libraries.</p>
</div>
</div>
<div class="section" id="more-commands">
<h3><a class="toc-backref" href="#id18">More Commands</a><a class="headerlink" href="#more-commands" title="Permalink to this headline">¶</a></h3>
<p>This will be documented soon.</p>
</div>
<div class="section" id="getting-help">
<h3><a class="toc-backref" href="#id19">Getting Help</a><a class="headerlink" href="#getting-help" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://mdelotavo.github.io/apigee-cli/index.html">The Apigee Management API command-line interface documentation</a></p></li>
<li><p><a class="reference external" href="https://apidocs.apigee.com/management/apis">Apigee Product Documentation</a></p></li>
<li><p><a class="reference external" href="https://github.com/mdelotavo/apigee-cli">GitHub</a></p></li>
<li><p><a class="reference external" href="https://github.com/darumatic/apigee-cli">Mirror</a></p></li>
</ul>
<p>For further questions, feel free to contact us at <a class="reference external" href="mailto:hello&#37;&#52;&#48;darumatic&#46;com">hello<span>&#64;</span>darumatic<span>&#46;</span>com</a> or contact <a class="reference external" href="mailto:matthew&#37;&#52;&#48;darumatic&#46;com">matthew<span>&#64;</span>darumatic<span>&#46;</span>com</a>.</p>
</div>
<div class="section" id="next-steps">
<h3><a class="toc-backref" href="#id20">Next Steps</a><a class="headerlink" href="#next-steps" title="Permalink to this headline">¶</a></h3>
<p>You may want to make use of our <a class="reference external" href="https://hub.docker.com/r/darumatic/apigee-cicd">Apigee CI/CD Docker releases</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ docker pull darumatic/apigee-cicd
</pre></div>
</div>
</div>
<div class="section" id="disclaimer">
<h3><a class="toc-backref" href="#id21">Disclaimer</a><a class="headerlink" href="#disclaimer" title="Permalink to this headline">¶</a></h3>
<p>This is not an officially supported Google product.</p>
<div class="toctree-wrapper compound">
</div>
<div class="toctree-wrapper compound">
</div>
<div class="toctree-wrapper compound">
</div>
</div>
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<ul class="simple">
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
</ul>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="installation.html" class="btn btn-neutral float-right" title="Installation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Matthew Delotavo

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>